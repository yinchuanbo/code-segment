<!DOCTYPE html>
            <html lang="en">
              <head>
                <meta charset="UTF-8" />
                <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                <title>Tensorflow 进行脸部关键点检测</title>
                <link rel="stylesheet" href="./css/prism-okaidia.min.css">
                <link rel="stylesheet" type="text/css" href="./css/style.css" />
              </head>
              <body>
                <div class="container">
                  <div class="container-header">
                    <h2>Tensorflow 进行脸部关键点检测</h2>
                    <p>2024-06-05 16:07:45 · YinHao</p>
                  </div>
                  <pre><code class="language-html">&lt;label&gt;
  &lt;p&gt;Tensorflow 点击进行脸部关键点检测&lt;/p&gt;
  &lt;input type=&quot;file&quot; id=&quot;fileInput&quot; accept=&quot;image/*&quot; /&gt;
&lt;/label&gt;
&lt;img
  id=&quot;image&quot;
  src=&quot;&quot;
  alt=&quot;Uploaded Image&quot;
  style=&quot;max-width: 300px; display: none&quot;
/&gt;
&lt;div id=&quot;result&quot;&gt;&lt;/div&gt;
&lt;script src=&quot;https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-core&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgl&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://cdn.jsdelivr.net/npm/@tensorflow-models/face-landmarks-detection&quot;&gt;&lt;/script&gt;
</code></pre>
<pre><code class="language-css">* {
  padding: 0;
  margin: 0;
}
html,
body {
  height: 100%;
}
body {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}
input {
  display: none;
}
label {
  margin-bottom: 20px;
  background-color: aquamarine;
  padding: 20px 20px;
  border-radius: 10px;
  cursor: pointer;
  transition: 0.5s;
}
label:hover {
  background-color: antiquewhite;
  transition: 0.5s;
}
#result {
  margin-top: 20px;
  color: #fff;
}
</code></pre>
<pre><code class="language-js">const fileInput = document.getElementById(&quot;fileInput&quot;);
const imageElement = document.getElementById(&quot;image&quot;);
const resultElement = document.getElementById(&quot;result&quot;);

fileInput.addEventListener(&quot;change&quot;, async function () {
  const file = fileInput.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = async function () {
      const image = new Image();
      image.src = reader.result;
      image.onload = async function () {
        imageElement.src = reader.result;
        imageElement.style.display = &quot;block&quot;;
        // ....
        const model = faceLandmarksDetection.SupportedModels.MediaPipeFaceMesh;
        const detectorConfig = {
          runtime: &quot;mediapipe&quot;, // or &#39;tfjs&#39;
          solutionPath: &quot;https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh&quot;,
        };
        const detector = await faceLandmarksDetection.createDetector(
          model,
          detectorConfig
        );
        const faces = await detector.estimateFaces(image);
        if (faces?.length) {
          resultElement.textContent = `检测人脸数据：${faces?.length}`;
        } else {
          resultElement.textContent = `未检测人脸数据`;
        }
        // ....
      };
    };
    reader.readAsDataURL(file);
  }
});
</code></pre>

                  <div class="nav">
                    <div class="nav-prev" onclick="location.href='/28.html'">PREV</div>
                    <div class="nav-next" onclick="location.href='/30.html'">NEXT</div>
                  </div>
                  <div class="home" onclick="location.href='/'">HOME</div>
                </div>
                <script src="./js/prism.min.js"></script>
                <script src="./js/prism-javascript.min.js"></script>
              </body>
            </html>
            